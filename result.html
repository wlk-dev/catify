<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catify</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style2.css" />

    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />

</head>

<body>


    <!--card section-->

    <header class="container-fluid">

        <ul class="nav">
            <li class="nav-item">
                <a class="nav-link active" style="color: whitesmoke;" id="go-home" href="index.html">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" style="color: whitesmoke;" target="_blank" href="https://github.com/wlk-dev/catify">GitHub</a>
            </li>

            <div class="subnav">
                <button class="subnavbtn">API Links <i class="fa fa-caret-down"></i></button>
                <div class="subnav-content">
                    <a href="http://agify.io/" target="_blank">Agify</a>
                    <a href="http://nationalize.io/" target="_blank">Nation</a>
                    <a href="http://thecatapi.com/" target="_blank">Cat API</a>
                    <a href="http://flagpedia.net/download/api" target="_blank">Flag</a>
                </div>
              </div>


            <!-- <div class ="dropup">
                <button class="dropbtn">API Links</button>
                <div class ="dropup-content">
                    <a href="http://agify.io/" target="_blank">Agify</a>
                    <a href="http://nationalize.io/" target="_blank">Nation</a>
                    <a href="http://thecatapi.com/" target="_blank">Cat API</a>
                    <a href="http://flagpedia.net/download/api" target="_blank">Flag</a>
            </div> -->
        </ul>


    </header>

    <div class="container">
        <main class="row main-card-row">
            <div class="col-12 col-lg-6 cardXcontainer">
                <div class="cardX" id="top-card">
                    <h5 id="cat-breed"></h5>
                </div>
                <img class="cardImage1" id="breed-img" src="./assets/image/image2.jpg" alt="Avatar" width="400"
                    height="400">
            </div>

            <ul class=" list-group col-12 col-lg-6 list-group-flush">
                <li class="list-group-item"></li>
                <li class="list-group-item font-weight-bolder" id="human-name">Name</li>
                <li class="list-group-item" id="gender">Gender</li>
                <li class="list-group-item"><span id="country-code">Country</span><img src="" alt="Country Flag"
                        class="flag" id="flag-img" width="20" height="10"></img></li>
                
                <li class="list-group-item" id="breed-attr">Sociability : </li>
                <li class="list-group-item"><a href="" target="_blank" id="wiki-link"></a></li>
                <li class="list-group-item"></li>

            </ul>



        </main>

        <section>
            
            <div class="swiper mySwiper container">
                <div class="swiper-wrapper content"></div>
            </div>
            
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <!-- <div class="swiper-pagination"></div> -->
            
        </section>
        
        
        
        
        <footer id="trial1" class="themeColor">Credits:
            <a href="http://agify.io/" target="_blank">Agify</a>
            <a href="http://nationalize.io/" target="_blank">Nation</a>
            <a href="http://thecatapi.com/" target="_blank">Cat API</a>
            <a href="http://flagpedia.net/download/api" target="_blank">Flag</a>
        </footer>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="assets/script/main.js"></script>
        <script>
            (function () {
                const urlParams = new URLSearchParams(window.location.search)
                const paramsObj = {};

                for (const [key, value] of urlParams) {
                    paramsObj[key] = value;
                }

                catify(paramsObj, populateMainCard); // change populateMainCard to a different function chain including this

                setTimeout( function () {
                    let storedCards = getStored()
                    console.log(storedCards)
                    for ( const key in storedCards ) {
                        createCard( storedCards[key] )
                    }
    
                    $(".clickable-card").on("click", (evt) => {
                        populateMainCard( storedCards[$(evt.target).data("key")], storedCards[$(evt.target).data("key")].flag_img_url )
                    })

                }, 1000)


            })();
        </script>

        <!-- Swiper JS -->
        <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>

        <!-- Initialize Swiper -->
        <script>
            var swiper = new Swiper(".mySwiper", {
                slidesPerView: 3,
                spaceBetween: 30,
                slidesPerGroup: 3,
                loop: true,
                loopFillGroupWithBlank: true,
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
            });
        </script>
</body>

</html>